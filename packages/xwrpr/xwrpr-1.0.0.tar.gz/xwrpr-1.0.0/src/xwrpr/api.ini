#!/usr/bin/env python
# -*- coding: utf-8; py-indent-offset:4 -*-
###########################################################################
#
#    xwrpr - A wrapper for the API of XTB (https://www.xtb.com)
#
#    Copyright (C) 2024  Philipp Craighero
#
#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation, either version 3 of the License, or
#    (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with this program.  If not, see <https://www.gnu.org/licenses/>.
#
###########################################################################

[SOCKET]
# The XTB API connection settings
HOST = xapi.xtb.com
PORT_DEMO = 5124
PORT_DEMO_STREAM = 5125
PORT_REAL = 5112
PORT_REAL_STREAM = 5113

[CONNECTION]
# Max allowed data and stream connections to server [-]
# 50 possible (see API documentation)
MAX_CONNECTIONS = 50
# Max size of data sent to server at once [bytes]
# 1024 possible (see API documentation), but to avoid an
# insult to the server rules, the limit is set to 960
MAX_SEND_DATA = 960
# Max size of data received from server at once [bytes]
# No restrictions, but should be big enough to handle all
# streaming messages at once. In ASCII-only text, all characters
# take up 1 byte, so 4096 bytes can hold 4096 characters.
MAX_RECEIVED_DATA = 4096
# Max retries for request to server [-]
# No restriction, but should be big enough to avoid
# a unstable connection
MAX_RETRIES = 5
# Min allowed interval for server requests [ms]
# 200ms possible (see API documentation), but to avoid an insult
# to the server rules, the limit is set to 205
MIN_REQUEST_INTERVAL = 205
# The timeout for blocking stream socket connection [ms]
# No restrictions, but should be big enough to avoid
# a increased CPU load and conflicts in socket connections
SOCKET_TIMEOUT = 100
# The max number of elements in the stream queue [-]
# No restrictions, but should be big enough to avoid
# a queue overflow
MAX_QUEUE_ELEMENTS = 1000
# Flag to allow dynamic shifting of streaming tasks
# If True, the streaming tasks will be shifted dynamically
# between the StreamHandler to avoid a queue overflow
DYNAMIC_SHIFTING = True

[HANDLER]
# The time interval of the threads running in the background [ms]
THREAD_TICKER = 500
# The minimum interval for flawless thread behavior [ms]
MIN_FLAWLESS_INTERVAL = 10000
# Sliding mean window for the data stream [-]
SLIDING_MEAN_WINDOW = 20
# Queue level threshold before a dynamic shift happens [%]
QUEUE_LEVEL_THRESHOLD = 80