botrun_app:
  name: Perplexity Search
  description: 使用 perplexity 搜尋的 chatbot
  mode: chatbot
workflow:
  nodes:
  - type: start
    id: e9a7af26-f423-4114-96fc-2a954d38df16
    title: Start
    desc: ''
    input_variables: []
    output_variables:
    - variable_name: user_input
    - variable_name: history
    print_start: false
    print_stream: false
    print_complete: false
    complete_output: null
  - type: perplexity
    id: 6208f3ff-69c3-4e07-96a2-4ec5ad59853e
    title: Perplexity Search
    desc: ''
    input_variables:
    - node_id: e9a7af26-f423-4114-96fc-2a954d38df16
      variable_name: history
    output_variables:
    - variable_name: perplexity_output
    print_start: false
    print_stream: true
    print_complete: false
    complete_output: null
    model:
      completion_params: {}
      name: llama-3.1-sonar-huge-128k-online
    prompt_template:
    - role: user
      content: "\n                幫我根據使用者的提問進行回答，你會尋找最新的資料，而且會以政府網站為優先，最後加上參考資料來源。\n\
        \n                以下是使用者的提問：\n                {{#e9a7af26-f423-4114-96fc-2a954d38df16.user_input#}}"
    temperature: 0.2
  - type: answer
    id: 7cbbd904-1203-4381-9a17-aa96b47398cb
    title: Answer
    desc: ''
    input_variables:
    - node_id: 6208f3ff-69c3-4e07-96a2-4ec5ad59853e
      variable_name: perplexity_output
    output_variables:
    - variable_name: answer
    print_start: false
    print_stream: false
    print_complete: false
    complete_output: null
