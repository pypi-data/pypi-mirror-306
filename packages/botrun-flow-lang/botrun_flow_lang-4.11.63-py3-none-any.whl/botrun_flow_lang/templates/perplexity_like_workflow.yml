botrun_app:
  name: Perplexity Search
  description: 使用 perplexity 搜尋的 chatbot
  mode: chatbot
workflow:
  nodes:
  - type: start
    id: 460cbb58-44df-4477-825d-b271c736a463
    title: Start
    desc: ''
    input_variables: []
    output_variables:
    - variable_name: user_input
    - variable_name: history
    print_start: false
    print_stream: false
    print_complete: false
    complete_output: null
  - type: perplexity
    id: 2f9ac728-62a1-41ca-8de8-50d5b8056971
    title: Perplexity Search
    desc: ''
    input_variables:
    - node_id: 460cbb58-44df-4477-825d-b271c736a463
      variable_name: history
    output_variables:
    - variable_name: perplexity_output
    print_start: false
    print_stream: true
    print_complete: false
    complete_output: null
    model:
      completion_params: {}
      name: llama-3.1-sonar-huge-128k-online
    prompt_template:
    - role: system
      content: 幫我根據使用者的提問進行回答，你會尋找最新的資料，而且會以政府網站為優先，最後加上參考資料來源。
    - role: user
      content: '{{#460cbb58-44df-4477-825d-b271c736a463.user_input#}}'
    temperature: 0.2
    search_recency_filter: day
  - type: answer
    id: 77afaec9-b5cb-4e6c-a4e7-417dad121545
    title: Answer
    desc: ''
    input_variables:
    - node_id: 2f9ac728-62a1-41ca-8de8-50d5b8056971
      variable_name: perplexity_output
    output_variables:
    - variable_name: answer
    print_start: false
    print_stream: false
    print_complete: false
    complete_output: null
