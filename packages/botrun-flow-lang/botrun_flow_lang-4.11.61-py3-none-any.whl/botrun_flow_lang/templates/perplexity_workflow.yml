botrun_app:
  name: Perplexity Search
  description: 使用 perplexity 搜尋的 chatbot
  mode: chatbot
workflow:
  nodes:
  - type: start
    id: 8d876994-f307-4890-b6b6-f37dbd90063f
    title: Start
    desc: ''
    input_variables: []
    output_variables:
    - variable_name: user_input
    - variable_name: history
    print_start: false
    print_stream: false
    print_complete: false
    complete_output: null
  - type: perplexity
    id: 5e26a90f-40e5-4006-8aac-ba9d5e99d2b6
    title: Perplexity Search
    desc: ''
    input_variables:
    - node_id: 8d876994-f307-4890-b6b6-f37dbd90063f
      variable_name: history
    output_variables:
    - variable_name: perplexity_output
    print_start: false
    print_stream: true
    print_complete: false
    complete_output: null
    model:
      completion_params: {}
      name: llama-3.1-sonar-huge-128k-online
    prompt_template:
    - role: system
      content: 幫我根據使用者的提問進行回答，你會尋找最新的資料，而且會以政府網站為優先，最後加上參考資料來源。
    - role: user
      content: '{{#8d876994-f307-4890-b6b6-f37dbd90063f.user_input#}}'
    temperature: 0.2
  - type: answer
    id: bf62bc80-ed2c-4969-bb3f-790c8e1e4a3e
    title: Answer
    desc: ''
    input_variables:
    - node_id: 5e26a90f-40e5-4006-8aac-ba9d5e99d2b6
      variable_name: perplexity_output
    output_variables:
    - variable_name: answer
    print_start: false
    print_stream: false
    print_complete: false
    complete_output: null
