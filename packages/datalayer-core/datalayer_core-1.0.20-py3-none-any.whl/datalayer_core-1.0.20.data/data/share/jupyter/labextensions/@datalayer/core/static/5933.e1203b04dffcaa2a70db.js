"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[5933],{15933:(e,s,t)=>{t.r(s),t.d(s,{ExerciseTake:()=>x,default:()=>h});var n=t(74512),a=t(66029),i=t(99608),r=t(40809),l=t(23189),o=t(9750),c=t(7185),u=t(53133),d=t(69058);const x=()=>{const{accountHandle:e,spaceHandle:s,exerciseId:t}=(0,i.UO)();if(!t)return(0,n.jsx)(n.Fragment,{});const x=(0,d.qX)(),h=(0,o.useOutputsStore)(),p=(0,u.aF)(),{kernelManager:f,defaultKernel:g}=(0,o.useJupyter)(),j=(x.layout().organization,x.layout().space),{refreshExercise:m,getExercise:y,cloneExercise:B}=(0,u.YT)(),v=(0,u.s0)(),k=(0,r.useConfirm)(),{enqueueToast:T}=(0,u.pm)(),[b]=(0,a.useState)("exercise-student"),[E,S]=(0,a.useState)(!1),[C,$]=(0,a.useState)(),[P,w]=(0,a.useState)((0,o.newUuid)()),[_,R]=(0,a.useState)(!1),V=h.getInput(b),H=(0,a.useMemo)((()=>g),[f]),q=h.getGradeSuccess(b);(0,a.useEffect)((()=>{q&&(R(q),setTimeout((()=>{R(!1)}),5e3))}),[q]),(0,a.useEffect)((()=>{m(t).then((e=>{if(e.success){const e=y(t);e||v("/"),$(e)}}))}),[]);const z=(0,a.useCallback)((async e=>{k({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((e=>{e&&B(t).then((e=>{e.success&&(T(e.message,{variant:"success"}),x.layout().triggerItemsRefresh(),v(`/${p.handle}/library/exercises`))}))}))}),[k,C]);return C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Pagehead,{children:(0,n.jsxs)(r.Box,{display:"flex",children:[(0,n.jsx)(r.Box,{flex:1,children:(0,n.jsx)(r.Heading,{sx:{fontSize:3},children:"Exercise"})}),(0,n.jsx)(r.Box,{children:(0,n.jsxs)(r.ButtonGroup,{children:[p&&C&&e&&s&&(0,n.jsx)(r.Button,{variant:"default",size:"small",onClick:()=>v(`/${e}/${s}/exercise/${C.id}`),children:"Edit"}),p&&C&&j&&(0,n.jsx)(r.Button,{variant:"default",size:"small",leadingVisual:l.jcu,onClick:z,children:"Clone"})]})})]})}),(0,n.jsxs)(r.Box,{children:[(0,n.jsx)(r.Text,{children:C.name}),(0,n.jsx)(r.Text,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:C.description})]}),(0,n.jsx)(r.Box,{children:(0,n.jsx)(o.Output,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:H,id:b,codePre:C.codePre,code:C.codeQuestion,receipt:P})}),(0,n.jsxs)(r.Box,{display:"flex",gridGap:3,pt:2,pb:2,children:[(0,n.jsx)(r.Box,{children:(0,n.jsx)(r.Button,{variant:"danger",leadingVisual:l.UOT,onClick:e=>{e.preventDefault(),S(!E)},children:"Show help"})}),(0,n.jsx)(r.Box,{children:(0,n.jsx)(r.Button,{variant:"default",leadingVisual:l.bnu,onClick:e=>{e.preventDefault(),h.setExecuteRequest(b,C.codeQuestion)},children:"Reset"})})]}),E&&(0,n.jsx)(r.Text,{as:"p",color:"danger.fg",p:2,children:C.help??"No help available."}),(0,n.jsxs)(r.Box,{children:[(0,n.jsx)(r.Button,{variant:"default",leadingVisual:l.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),h.setExecuteRequest(b,`\nsetup_state(stu_code = """${C.codePre}\n${V}""", sol_code = """${C.codePre}\n${C.codeSolution}""")\n${C.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${P}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,n.jsx)(r.Text,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),_&&(0,n.jsx)(c.xP,{})]}):(0,n.jsx)(n.Fragment,{})},h=x}}]);