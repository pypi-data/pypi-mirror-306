"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9500],{59502:function(e,t,i){i.d(t,{p:function(){return S}});var r=i(52322),n=i(39013),s=i(60129),l=i(35292),o=i(35002),a=i(40191),d=i(28879),c=i.n(d),u=i(77491),h=i.n(u),x=i(30733),p=i.n(x),m=i(2784),g=i(35505),j=i(57758),v=i(68903),f=i(72045),y=i(88257);c().extend(h());let w={[y.izS.SUCCESS]:n.fA(),[y.izS.FAILURE]:n.FY(),[y.izS.STARTED]:n.v4(),[y.izS.SKIPPED]:n.A8()},b={[y.izS.SUCCESS]:n.Lv(),[y.izS.FAILURE]:n.MP(),[y.izS.STARTED]:n.Jq(),[y.izS.SKIPPED]:n.$l()},k=p()(e=>new Intl.DateTimeFormat(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23",timeZone:"Automatic"===e?(0,f.cw)():e,timeZoneName:"short"})),S=e=>{let{ticks:t,tickResultType:i,onHoverTick:n,onSelectTick:a,exactRange:d,timeRange:c=3e5,tickGrid:u=6e4,timeAfter:h=6e4}=e,[x,p]=(0,m.useState)(Date.now()),[g,f]=(0,m.useState)(!1);(0,m.useEffect)(()=>{if(!g&&!d){let e=setInterval(()=>{p(Date.now())},100);return()=>clearInterval(e)}return()=>{}},[d,g]);let y=(null==d?void 0:d[1])?1e3*d[1]:x+h,w=(null==d?void 0:d[0])?1e3*d[0]:x-c,b=y-w,{viewport:S,containerProps:L}=(0,s.S)(),O=(0,m.useMemo)(()=>t.filter(e=>!e.endTimestamp||1e3*e.endTimestamp>w).reverse(),[t,w]),M=(0,m.useMemo)(()=>O.map((e,t)=>{var i,r;let n=(i=1e3*e.timestamp,S.width*(i-w)/b),s=(r=(0,j.g6)(e,O.length-t-1)?e.timestamp:e.endTimestamp?1e3*e.endTimestamp:x,S.width*(r-w)/b);return{...e,width:Math.max(s-n,8),startX:n}}),[w,x,O,b,S.width]),N=Math.max((y-w)/25,u),_=N/5,$=Math.ceil(w/_)*_,B=(0,m.useMemo)(()=>{let e=[];for(let i=$;i<=y;i+=_){var t;e.push({time:i,x:(t=i,S.width*(t-w)/b),showLabel:i%N==0})}return e},[y,$,_,S.width,w,b,N]),{timezone:[q]}=(0,m.useContext)(v.JB);return(0,r.jsx)("div",{style:{marginRight:"8px"},children:(0,r.jsxs)("div",{...L,children:[(0,r.jsxs)(E,{children:[B.map(e=>(0,r.jsxs)(I,{style:{transform:"translateX(".concat(e.x,"px)")},children:[(0,r.jsx)(A,{}),e.showLabel?(0,r.jsx)(R,{children:(0,r.jsx)(l.YS,{children:k(q).format(new Date(e.time))})}):null]},e.time)),M.map(e=>{var t,s;let l=null!==(s="materializations"!==i&&"runIds"in e?null===(t=e.runIds)||void 0===t?void 0:t.length:e.requestedAssetMaterializationCount)&&void 0!==s?s:0;return(0,r.jsx)(z,{style:{transform:"translateX(".concat(e.startX,"px)"),width:"".concat(e.width,"px")},status:e.status,onMouseEnter:()=>{n(e),f(!0)},onMouseLeave:()=>{n(),f(!1)},onClick:()=>{a(e)},children:(0,r.jsx)(o.u,{content:(0,r.jsx)(C,{tick:e,tickResultType:i}),children:(0,r.jsx)("div",{style:{width:e.width+"px",height:"80px"},children:l>0?l:null})})},e.id)}),(0,r.jsx)(P,{style:{transform:"translateX(".concat(S.width*(x-w)/b,"px)")}})]}),(0,r.jsx)(T,{})]})})},C=(0,m.memo)(e=>{let{tick:t,tickResultType:i}=e,s=(0,m.useMemo)(()=>{var e,r;return t.status===y.izS.FAILURE?"Evaluation failed":t.status===y.izS.STARTED?"Evaluating…":"materializations"!==i&&"runs"in t?"".concat((null===(e=t.runs)||void 0===e?void 0:e.length)||0," run").concat((0,a.I)(null===(r=t.runs)||void 0===r?void 0:r.length,"","s")," requested"):"".concat(t.requestedAssetMaterializationCount," materialization").concat((0,a.I)(t.requestedAssetMaterializationCount,"","s")," requested")},[t,i]),o=c()(1e3*t.timestamp),d=c()(t.endTimestamp?1e3*t.endTimestamp:Date.now()),u=o.to(d,!0);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.YS,{as:"div",children:[s," (",u,")"]}),t.status===y.izS.STARTED?null:(0,r.jsx)(l.YS,{color:n.$(),children:"Click for details"})]})}),E=g.ZP.div.withConfig({componentId:"sc-e25fbce7-0"})(["position:relative;height:100px;padding:10px 2px;border-bottom:1px solid ",";"],n.wL()),T=g.ZP.div.withConfig({componentId:"sc-e25fbce7-1"})(["height:24px;"]),z=g.ZP.div.withConfig({componentId:"sc-e25fbce7-2"})(["cursor:pointer;position:absolute;top:10px;height:80px;will-change:transform,width;border-radius:2px;div{place-content:center;display:grid;}color:",";",""],n.v8(),e=>{let{status:t}=e;return"\n    background: ".concat(w[t],";\n    &:hover {\n      background: ").concat(b[t],";\n    }\n  ")}),I=g.ZP.div.withConfig({componentId:"sc-e25fbce7-3"})(["position:absolute;top:0;height:124px;will-change:transform;"]),A=g.ZP.div.withConfig({componentId:"sc-e25fbce7-4"})(["position:absolute;top:0;height:108px;width:1px;background:",";"],n.wL()),R=g.ZP.div.withConfig({componentId:"sc-e25fbce7-5"})(["height:16px;position:absolute;bottom:0;width:100px;margin-left:-24px;"]),P=g.ZP.div.withConfig({componentId:"sc-e25fbce7-6"})(["position:absolute;top:0;height:126px;width:2px;background:",";&:after{content:'Now';position:absolute;left:0;background:",";color:",";bottom:0;font-size:12px;padding:3px 4px;}"],n.Bj(),n.Bj(),n.KH())},57758:function(e,t,i){i.d(t,{$G:function(){return n},g6:function(){return s},sw:function(){return l}});var r=i(88257);let n=e=>e.length>100?"".concat(e.slice(0,95),"…"):e;function s(e,t){return!e.endTimestamp&&(0!==t&&e.status===r.izS.STARTED||1e3*e.timestamp<Date.now()-259200)}function l(e,t){return e.reduce((e,i)=>{if(i.type===t){var r;return e+((null===(r=i.partitionKeys)||void 0===r?void 0:r.length)||0)}return e},0)}},49500:function(e,t,i){i.r(t),i.d(t,{OverviewRoot:function(){return tI},default:function(){return tA}});var r,n,s=i(52322),l=i(7267),o=i(38491),a=i(14934),d=i(2784),c=i(79106),u=i(74159),h=i(16629),x=i(60129),p=i(55255),m=i(43212),g=i(39013),j=i(46100),v=i(60603),f=i(35292),y=i(88510),w=i(47933),b=i(35505),k=i(99590),S=i(16336),C=i(69737),E=i(99048),T=i(98705),z=i(44900),I=i(46318),A=i(79342),R=i(17612),P=i(75442),L=i(20171),O=i(4378),M=i(79059),N=i(17008),_=i(65822),$=i(10539);let B=e=>{let{Header:t,TabButton:i}=e;(0,C.Px)(),(0,L.j)("Overview | Assets");let{assets:r,query:n,error:l,loading:o}=(0,R.Zg)(),x=(0,S.bT)({refresh:n,intervalMs:S.dT,leading:!0}),p=d.useMemo(()=>r?function(e){let t={};return e.forEach(e=>{if(!e.definition)return;let i=e.definition.groupName,r=e.definition.repository.name,n="".concat(i,"||").concat(r),s=t[n]||{groupName:i,repositoryName:r,assets:[]};s.assets.push(e),t[n]=s}),Object.values(t)}(r):[],[r]),[m,g]=(0,O.q)({queryKey:"q",decode:e=>e.searchQuery?JSON.parse(e.searchQuery):"",encode:e=>({searchQuery:e?JSON.stringify(e):void 0})}),j=d.useMemo(()=>""===m?p:p.filter(e=>(e.groupName||D).toLowerCase().includes(m.toLowerCase())||e.repositoryName.toLowerCase().includes(m.toLowerCase())),[p,m]),v=d.useMemo(()=>{var e;return null!==(e=j.flatMap(e=>e.assets.map(e=>e.key)))&&void 0!==e?e:[]},[j]);(0,E.NY)(v,"OverviewAssetsRoot");let f=d.useRef(null),b=(0,y.MG)({count:j.length,getScrollElement:()=>f.current,estimateSize:()=>82,overscan:5}),T=b.getTotalSize(),z=b.getVirtualItems();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{position:"sticky",top:0,zIndex:1},children:[(0,s.jsx)(t,{refreshState:x}),(0,s.jsxs)(a.x,{padding:{horizontal:24,vertical:16},flex:{alignItems:"center",gap:12,grow:0},children:[(0,s.jsx)(i,{selected:"assets"}),(0,s.jsx)(u.oi,{value:m,onChange:e=>{g(e.target.value)},placeholder:"Filter asset groups…"})]}),(0,s.jsx)(a.x,{padding:{horizontal:24,vertical:16},border:"top",children:(0,s.jsx)(h.b,{intent:"info",title:"This Assets tab will be removed in an upcoming release.",description:(0,s.jsxs)(s.Fragment,{children:["Use the ",(0,s.jsx)(w.rU,{to:"/asset-groups",children:"global asset lineage page"})," to view grouped asset status details."]})})})]}),o?(0,s.jsx)(a.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,s.jsx)(c.$,{purpose:"page"})}):l?(0,s.jsx)(a.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,s.jsx)(k.T9,{error:l})}):(0,s.jsx)(a.x,{flex:{direction:"column"},style:{overflow:"hidden"},children:(0,s.jsxs)(N.W2,{ref:f,children:[(0,s.jsx)(F,{}),(0,s.jsx)(N.Nh,{$totalHeight:T,children:z.map(e=>{let{index:t,key:i,size:r,start:n}=e,l=j[t];return(0,s.jsx)(U,{start:n,height:r,group:l},i)})})]})})]})},q="5fr 1fr 1fr 1fr 1fr",F=()=>(0,s.jsxs)(N.VJ,{templateColumns:q,sticky:!0,children:[(0,s.jsx)(N.qN,{children:"Group name"}),(0,s.jsx)(N.qN,{children:"Missing"}),(0,s.jsx)(N.qN,{children:"Failed/Overdue"}),(0,s.jsx)(N.qN,{children:"In progress"}),(0,s.jsx)(N.qN,{children:"Materialized"})]}),D="Ungrouped Assets";function U(e){var t,i;let{height:r,start:n,group:l}=e,o=d.useMemo(()=>l.assets.map(e=>({path:e.key.path})),[l.assets]),{liveDataByNode:u}=(0,E.NY)(o),h=d.useMemo(()=>(0,I.s)(l.assets,u),[u,l.assets]),j=null===(i=l.assets.find(e=>{var t;return null===(t=e.definition)||void 0===t?void 0:t.repository}))||void 0===i?void 0:null===(t=i.definition)||void 0===t?void 0:t.repository,v=(0,_.kQ)((null==j?void 0:j.name)||"",(null==j?void 0:j.location.name)||""),{containerProps:f,viewport:y}=(0,x.S)(),b=o.length!==Object.keys(u).length,k=b?"":"0";return(0,s.jsx)(N.X2,{$height:r,$start:n,children:(0,s.jsxs)(K,{border:"bottom",children:[(0,s.jsx)(J,{children:(0,s.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",grow:1},children:[(0,s.jsxs)(a.x,{flex:{direction:"column",gap:2,grow:1},children:[(0,s.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,s.jsx)(p.JO,{name:"asset_group"}),l.groupName?(0,s.jsx)(w.rU,{style:{fontWeight:700},to:(0,$.$U)(v,"/asset-groups/".concat(l.groupName)),children:l.groupName}):D]}),(0,s.jsx)("div",{...f,children:(0,s.jsx)(Q,{maxWidth:y.width,children:(0,s.jsx)(M.b,{repoAddress:v,showRefresh:!1})})})]}),(0,s.jsx)(a.x,{flex:{direction:"column",justifyContent:"center"},children:b?(0,s.jsx)(c.$,{purpose:"body-text"}):null})]})}),(0,s.jsx)(J,{children:h.missing.length?(0,s.jsx)(Z,{assets:h.missing,getCount:e=>{let{status:t}=e;return t.case===T.KB.PARTITIONS_MISSING&&t.numMissing||0},adjective:"missing",children:(0,s.jsx)(m.V,{intent:"none",children:(0,s.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",border:"2px solid ".concat(g.im()),borderRadius:"50%"}}),h.missing.length]})})}):k}),(0,s.jsx)(J,{children:h.failed.length?(0,s.jsx)(Z,{assets:h.failed,getCount:e=>{let{status:t}=e;return t.case===T.KB.PARTITIONS_FAILED&&t.numFailed||0},adjective:"failed",children:(0,s.jsx)(m.V,{intent:"danger",children:(0,s.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid red",display:"inline-block"}}),h.failed.length]})})}):k}),(0,s.jsx)(J,{children:h.inprogress.length?(0,s.jsx)(Z,{assets:h.inprogress,getCount:e=>{let{status:t}=e;return t.case===T.KB.MATERIALIZING&&t.numMaterializing||0},adjective:"materializing",children:(0,s.jsx)(m.V,{intent:"primary",icon:"spinner",children:h.inprogress.length})}):k}),(0,s.jsx)(J,{children:h.successful.length?(0,s.jsx)(Z,{assets:h.successful,getCount:e=>{let{status:t}=e;return t.case===T.KB.PARTITIONS_MATERIALIZED&&t.numMaterialized||0},adjective:"materialized",children:(0,s.jsx)(m.V,{intent:"success",children:(0,s.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{backgroundColor:g.fA(),width:"10px",height:"10px",borderRadius:"50%"}}),h.successful.length]})})}):k})]})})}let K=(0,b.ZP)(a.x).withConfig({componentId:"sc-9ca8ef04-0"})(["display:grid;grid-template-columns:",";height:100%;> *{vertical-align:middle;}"],q),J=e=>{let{children:t}=e;return(0,s.jsx)(N.E5,{style:{color:g.Ep()},children:(0,s.jsx)(a.x,{flex:{direction:"row",alignItems:"center",grow:1},children:t})})},Q=b.ZP.div.withConfig({componentId:"sc-9ca8ef04-1"})(["font-size:12px;pointer-events:none;a{color:",";pointer-events:none;max-width:",";}"],g.$(),e=>{let{maxWidth:t}=e;return t?"unset":"".concat(t,"px")});function Z(e){let{assets:t,children:i,getCount:r,adjective:n}=e;return(0,s.jsx)(V,{children:(0,s.jsx)(j.P,{items:t,itemPredicate:(e,t)=>(0,z.ll)(t.asset.key).toLocaleLowerCase().includes(e.toLocaleLowerCase()),itemRenderer:e=>{let t=r(e);return(0,s.jsx)(G,{to:(0,P.p)(e.asset.key),target:"_blank",children:(0,s.jsx)(v.sN,{text:(0,s.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,s.jsx)("div",{style:{paddingLeft:"4px"},children:(0,s.jsx)(p.JO,{name:"asset"})}),(0,s.jsx)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,z.ll)(e.asset.key)}),t&&t>0?(0,s.jsxs)(f.YS,{style:{color:g.$()},children:[(0,A._e)(t)," ",n]}):null]})},(0,z.ll)(e.asset.key))})},onItemSelect:()=>{},children:i})})}let V=b.ZP.div.withConfig({componentId:"sc-9ca8ef04-2"})(["cursor:pointer;&:hover{font-weight:600;}"]),G=(0,b.ZP)(w.rU).withConfig({componentId:"sc-9ca8ef04-3"})(["&:hover{text-decoration:none;}"]);var W=i(74580);let H=()=>null;var X=i(73407),Y=i(87171),ee=i(39268),et=i(71348),ei=i(89918);let er=e=>{let{refreshState:t,tab:i}=e,r=(0,et.dx)(),n=(0,ee.I)(),{enableAssetHealthOverviewPreview:l}=(0,d.useContext)(Y.G);return(0,s.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,s.jsxs)(X.mQ,{selectedTabId:i,children:[(0,s.jsx)(ei.f,{id:"activity",title:"Timeline",to:"/overview/activity"}),l&&(0,s.jsx)(ei.f,{id:"asset-health",title:"Asset health",to:"/overview/asset-health"}),"has-global-amp"===n?(0,s.jsx)(ei.f,{id:"amp",title:(0,s.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.jsx)("div",{children:"Auto-materialize"}),r.loading?(0,s.jsx)(c.$,{purpose:"body-text"}):(0,s.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:!1===r.paused?g.L$():g.md()}})]}),to:"/overview/automation"}):null,(0,s.jsx)(ei.f,{id:"resources",title:"Resources",to:"/overview/resources"}),(0,s.jsx)(ei.f,{id:"backfills",title:"Backfills",to:"/overview/backfills"})]}),t?(0,s.jsx)(a.x,{style:{alignSelf:"center"},children:(0,s.jsx)(S.xi,{refreshState:t})}):null]})},en=e=>{let{tab:t,queryData:i,refreshState:r,...n}=e;return(0,s.jsx)(W.m,{tabs:(0,s.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,s.jsx)(er,{tab:t,queryData:i,refreshState:r}),(0,s.jsx)(H,{})]}),...n})};var es=i(73466),el=i(17872),eo=i(30001),ea=i(38267);let ed=()=>{(0,L.j)("Overview | Activity");let e=d.useCallback(e=>{let{refreshState:t}=e;return(0,s.jsx)(en,{tab:"activity",refreshState:t})},[]),[t,i]=(0,eo.U)("overview-activity-tab",e=>["timeline","assets"].includes(e)?e:"timeline"),{enableAssetHealthOverviewPreview:r}=d.useContext(Y.G),n=r?"timeline":t,c=d.useCallback(e=>{let{selected:t}=e;return r?null:(n!==t&&i(t),(0,s.jsxs)(o.zH,{children:[(0,s.jsx)(ea.Q1,{$active:"timeline"===t,to:"/overview/activity/timeline",children:"Timeline"}),(0,s.jsx)(ea.Q1,{$active:"assets"===t,to:"/overview/activity/assets",children:"Assets"})]}))},[n,i,r]);return(0,s.jsx)(a.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:(0,s.jsxs)(l.rs,{children:[!r&&(0,s.jsx)(el.A,{path:"/overview/activity/assets",children:(0,s.jsx)(B,{Header:e,TabButton:c})}),(0,s.jsx)(el.A,{path:"/overview/activity/timeline",children:(0,s.jsx)(es.U,{Header:e,TabButton:c})}),(0,s.jsx)(el.A,{path:"*",isNestingRoute:!0,render:d.useCallback(()=>"timeline"===n?(0,s.jsx)(l.l_,{to:"/overview/activity/timeline"}):(0,s.jsx)(l.l_,{to:"/overview/activity/assets"}),[n])})]})})};var ec=i(73235),eu=i(37483),eh=i(35002),ex=i(22921),ep=i(3922),em=i(98956),eg=i(50646),ej=i(83738),ev=i(22563);let ef=e=>{let{repos:t}=e,i=(0,d.useRef)(null),r=(0,d.useMemo)(()=>t.map(e=>{let{repoAddress:t}=e;return(0,ev.Uz)(t)}),[t]),{expandedKeys:n,onToggle:l,onToggleAll:o}=(0,eg.N)(ex.y,r),a=(0,d.useMemo)(()=>{let e=[];return t.forEach(t=>{let{repoAddress:i,resources:r}=t;e.push({type:"header",repoAddress:i,resourceCount:r.length});let s=(0,ev.Uz)(i);n.includes(s)&&r.forEach(t=>{e.push({type:"resource",repoAddress:i,...t})})}),e},[t,n]),c=(0,em.w)(t.map(e=>{let{repoAddress:t}=e;return t.name})),u=(0,y.MG)({count:a.length,getScrollElement:()=>i.current,estimateSize:e=>{let t=a[e];return(null==t?void 0:t.type)==="header"?32:64},overscan:10}),h=u.getTotalSize(),x=u.getVirtualItems();return(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsxs)(N.W2,{ref:i,children:[(0,s.jsx)(ep.f,{}),(0,s.jsx)(N.Nh,{$totalHeight:h,children:x.map(e=>{let{index:t,key:i,size:r,start:d}=e,u=a[t];return"header"===u.type?(0,s.jsx)(ej.vG,{repoAddress:u.repoAddress,height:r,start:d,onToggle:l,onToggleAll:o,expanded:n.includes((0,ev.Uz)(u.repoAddress)),showLocation:c.has(u.repoAddress.name),rightElement:(0,s.jsx)(eh.u,{content:1===u.resourceCount?"1 resource":"".concat(u.resourceCount," resources"),placement:"top",children:(0,s.jsx)(m.V,{children:u.resourceCount})})},i):(0,s.jsx)(ep.K,{height:r,start:d,...u},i)})})]})})};var ey=i(907),ew=i(49455),eb=i(20958),ek=i(78491),eS=i(43250),eC=i(94765);let eE=e=>{let[t,i]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{let t=setTimeout(()=>i(!0),e);return()=>clearTimeout(t)},[e]),t},eT=e=>{let{tooltipContent:t}=e;return eE(2e3)?(0,s.jsx)(a.x,{margin:{top:1},children:(0,s.jsx)(eh.u,{placement:"top",canShow:!!t,content:t||"",children:(0,s.jsx)(c.$,{purpose:"body-text"})})}):null};var ez=i(17867);function eI(){let e=(0,ec._)(["\n  query OverviewResourcesQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                allTopLevelResourceDetails {\n                  id\n                  ...ResourceEntryFragment\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return eI=function(){return e},e}let eA=()=>{(0,C.Px)(),(0,L.j)("Overview | Resources");let{allRepos:e,visibleRepos:t,loading:i,data:r}=(0,d.useContext)(ez.C5),[n,l]=(0,O.q)({queryKey:"search",defaults:{search:""}}),o=e.length,h=(0,eb.aM)(eP,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),{data:x,loading:p}=h,m=(0,S.C4)(h,S.dT),j=(0,d.useMemo)(()=>{let e=(0,ew.S)(t),i=Object.values(r).filter(e=>"WorkspaceLocationEntry"===e.__typename),n=null==x?void 0:x.workspaceOrError;return eR((null==n?void 0:n.__typename)==="Workspace"?n.locationEntries:i).filter(t=>{let{repoAddress:i}=t;return e.has((0,ev.Uz)(i))})},[r,x,t]),v=!x&&p&&i,f=n.trim().toLocaleLowerCase(),y=f.length>0,w=(0,d.useMemo)(()=>{let e=f.toLocaleLowerCase();return j.map(t=>{let{repoAddress:i,resources:r}=t;return{repoAddress:i,resources:r.filter(t=>{let{name:i}=t;return i.toLocaleLowerCase().includes(e)})}}).filter(e=>{let{resources:t}=e;return t.length>0})},[j,f]),b=p&&!x;return(0,s.jsxs)(a.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"resources",refreshState:m}),(0,s.jsxs)(a.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",gap:12,grow:0},children:[o>1?(0,s.jsx)(eS.C,{}):null,(0,s.jsx)(u.oi,{icon:"search",value:n,rightElement:b?(0,s.jsx)(eT,{tooltipContent:"Loading resources…"}):void 0,onChange:e=>l(e.target.value),placeholder:"Filter by resource name…",style:{width:"340px"}})]}),v&&!o?(0,s.jsx)(a.x,{padding:64,children:(0,s.jsx)(c.$,{purpose:"page"})}):(()=>{if(v)return(0,s.jsx)(a.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,s.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,s.jsx)(c.$,{purpose:"body-text"}),(0,s.jsx)("div",{style:{color:g.$()},children:"Loading resources…"})]})});let i=e.length>t.length;return w.length?(0,s.jsx)(ef,{repos:w}):y?(0,s.jsx)(a.x,{padding:{top:20},children:(0,s.jsx)(eu.t,{icon:"search",title:"No matching resources",description:i?(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:n})," were found in the selected code locations"]}):(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:n})," were found in your definitions"]})})}):(0,s.jsx)(a.x,{padding:{top:20},children:(0,s.jsx)(eu.t,{icon:"search",title:"No resources",description:i?"No resources were found in the selected code locations":"No resources were found in your definitions"})})})()]})},eR=e=>{let t=e.map(e=>e.locationOrLoadError),i=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:r,allTopLevelResourceDetails:n}=t,s=(0,_.kQ)(r,e.name);n.length>0&&i.push({repoAddress:s,resources:n})}return(0,ey.S)(i)},eP=(0,eb.Ps)(eI(),ek.B,eC.L);var eL=i(49308),eO=i(51484),eM=i(1747),eN=i(37504);function e_(){let e=(0,ec._)(["\n  fragment AssetDaemonTickFragment on InstigationTick {\n    id\n    timestamp\n    endTimestamp\n    status\n    instigationType\n    error {\n      ...PythonErrorFragment\n    }\n    requestedAssetKeys {\n      path\n    }\n    requestedAssetMaterializationCount\n    autoMaterializeAssetEvaluationId\n    requestedMaterializationsForAssets {\n      assetKey {\n        path\n      }\n      partitionKeys\n    }\n  }\n\n  ","\n"]);return e_=function(){return e},e}function e$(){let e=(0,ec._)(["\n  query AssetDaemonTicksQuery(\n    $dayRange: Int\n    $dayOffset: Int\n    $statuses: [InstigationTickStatus!]\n    $limit: Int\n    $cursor: String\n    $beforeTimestamp: Float\n    $afterTimestamp: Float\n  ) {\n    autoMaterializeTicks(\n      dayRange: $dayRange\n      dayOffset: $dayOffset\n      statuses: $statuses\n      limit: $limit\n      cursor: $cursor\n      beforeTimestamp: $beforeTimestamp\n      afterTimestamp: $afterTimestamp\n    ) {\n      id\n      ...AssetDaemonTickFragment\n    }\n  }\n\n  ","\n"]);return e$=function(){return e},e}let eB=(0,eb.Ps)(e_(),ek.B),eq=(0,eb.Ps)(e$(),eB);var eF=i(92506),eD=i(22791),eU=i(88257),eK=i(44030),eJ=i(1802),eQ=i(37680);let eZ=(0,d.memo)(e=>{let{tick:t,isOpen:i,close:r}=e;return(0,s.jsx)(eQ.Vm,{isOpen:i,setIsOpen:r,height:400,header:(0,s.jsx)(eF.fK,{label:t?(0,s.jsx)("div",{children:(0,s.jsx)(eD.E,{timestamp:{unix:t.timestamp},timeFormat:{showTimezone:!0}})}):""}),content:(0,s.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto auto minmax(0, 1fr)",height:"100%"},children:[(0,s.jsx)(a.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:t?(0,s.jsx)(eK.c,{tick:t,tickResultType:"materializations"}):null}),(null==t?void 0:t.status)===eU.izS.STARTED?null:(0,s.jsx)(eJ.u,{tick:t})]})})});var eV=i(80122),eG=i(71902),eW=i(15332),eH=i(74928);let eX=e=>{var t;let{filterTags:i,setTableView:r}=e,{queryResult:n,paginationProps:l}=(0,eW.l)({nextCursorForResult:e=>{var t;if("Runs"===e.pipelineRunsOrError.__typename)return null===(t=e.pipelineRunsOrError.results[14])||void 0===t?void 0:t.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[],variables:{filter:{tags:[...i||[],{key:"dagster/auto_materialize",value:"true"}]}},query:eH.z,pageSize:15});(0,S.C4)(n,15e3);let o=null===(t=n.data||n.previousData)||void 0===t?void 0:t.pipelineRunsOrError;return(0,s.jsxs)(a.x,{children:[(0,s.jsxs)(eY,{children:[(0,s.jsx)(a.x,{padding:{vertical:12,horizontal:24},margin:{top:32},border:"top",children:(0,s.jsx)(eO.h,{activeItems:new Set(["runs"]),buttons:[{id:"evaluations",label:"Evaluations"},{id:"runs",label:"Runs"}],onClick:e=>{r(e)}})}),(0,s.jsx)(eG.A,{runs:(null==o?void 0:o.__typename)==="Runs"?o.results:[]})]}),(0,s.jsx)("div",{style:{paddingBottom:"16px"},children:(0,s.jsx)(eV.pI,{...l})})]})},eY=b.ZP.div.withConfig({componentId:"sc-8fab7b65-0"})(["position:relative;> *:nth-child(2){position:absolute;right:0;top:0;}"]);var e0=i(89891),e1=i(2278),e2=i(58905);let e3=e=>{let{loading:t,ticks:i,tickStatus:r,setTickStatus:n,setSelectedTick:l,paginationProps:o,actionBarComponents:d}=e;return(0,s.jsxs)(a.x,{children:[(0,s.jsxs)(a.x,{flex:{justifyContent:"space-between",alignItems:"center"},padding:{vertical:12,horizontal:24},margin:{top:32},border:"top",children:[(0,s.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[d,!t||(null==i?void 0:i.length)?null:(0,s.jsx)(c.$,{purpose:"body-text"})]}),(0,s.jsx)(e8,{status:r,onChange:n})]}),(0,s.jsxs)(e9,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:120},children:"Timestamp"}),(0,s.jsx)("th",{style:{width:90},children:"Status"}),(0,s.jsx)("th",{style:{width:90},children:"Duration"}),(0,s.jsx)("th",{style:{width:180},children:"Result"})]})}),(0,s.jsx)("tbody",{children:i.map((e,t)=>{let i=0!==t&&e.status===eU.izS.STARTED&&!o.hasPrevCursor;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(eD.E,{timestamp:{unix:e.timestamp},timeFormat:{showTimezone:!0}})}),(0,s.jsx)("td",{children:(0,s.jsx)(e2.a,{tick:e,tickResultType:"materializations",isStuckStarted:i})}),(0,s.jsx)("td",{children:i?" - ":(0,s.jsx)(e1.Q,{startUnix:e.timestamp,endUnix:e.endTimestamp})}),(0,s.jsx)("td",{children:[eU.izS.SKIPPED,eU.izS.SUCCESS].includes(e.status)?(0,s.jsx)(e0.Z,{onClick:()=>{l(e)},children:(0,s.jsxs)(f.pN,{children:[e.requestedAssetMaterializationCount," materializations requested"]})}):" - "})]},e.id)})})]}),(0,s.jsx)("div",{style:{paddingBottom:"16px"},children:(0,s.jsx)(eV.pI,{...o})})]})};(r=n||(n={})).ALL="all",r.FAILED="failed",r.SUCCESS="success";let e5={all:[eU.izS.SUCCESS,eU.izS.FAILURE,eU.izS.STARTED,eU.izS.SKIPPED],failed:[eU.izS.FAILURE],success:[eU.izS.SUCCESS]},e4=[{key:"all",label:"All ticks"},{key:"success",label:"Requested"},{key:"failed",label:"Failed"}],e8=e=>{let{status:t,onChange:i}=e,r=e4.find(e=>{let{key:i}=e;return i===t});return(0,s.jsx)(j.P,{popoverProps:{position:"bottom-right"},filterable:!1,activeItem:r,items:e4,itemRenderer:(e,t)=>(0,s.jsx)(v.sN,{active:t.modifiers.active,onClick:t.handleClick,text:e.label,style:{width:"300px"}},e.key),onItemSelect:e=>i(e.key),children:(0,s.jsx)(o.zx,{rightIcon:(0,s.jsx)(p.JO,{name:"arrow_drop_down"}),style:{minWidth:"200px",display:"flex",justifyContent:"space-between"},children:null==r?void 0:r.label})})},e9=(0,b.ZP)(eM.i).withConfig({componentId:"sc-1b725a66-0"})(["th,td{vertical-align:middle !important;}"]),e7=e=>{var t,i;let{setSelectedTick:r,setTimerange:l,setParentStatuses:o,actionBarComponents:a}=e,[c,u]=(0,O.q)({queryKey:"status",defaults:{status:n.ALL}}),h=(0,d.useMemo)(()=>e5[c]||e5[n.ALL],[c]),{queryResult:x,paginationProps:p}=(0,eW.l)({query:eq,variables:{statuses:(0,d.useMemo)(()=>Array.from(h),[h])},nextCursorForResult:e=>{var t;let i=e.autoMaterializeTicks;if(i.length)return null===(t=i[14])||void 0===t?void 0:t.id},getResultArray:e=>(null==e?void 0:e.autoMaterializeTicks)?e.autoMaterializeTicks:[],pageSize:15});return(0,S.C4)(x,1e4,!p.hasPrevCursor),(0,d.useEffect)(()=>{if(p.hasPrevCursor){var e,t,i;let r=null===(e=x.data)||void 0===e?void 0:e.autoMaterializeTicks;if(r&&r.length){let e=null===(t=r[r.length-1])||void 0===t?void 0:t.timestamp,n=null===(i=r[0])||void 0===i?void 0:i.endTimestamp;e&&n&&l([e,n])}}else l(void 0)},[p.hasPrevCursor,null===(t=x.data)||void 0===t?void 0:t.autoMaterializeTicks,l]),(0,d.useEffect)(()=>{p.hasPrevCursor?o(Array.from(h)):o(void 0)},[p.hasPrevCursor,o,h]),(0,s.jsx)(e3,{loading:x.loading,ticks:(null===(i=x.data)||void 0===i?void 0:i.autoMaterializeTicks)||[],paginationProps:p,setSelectedTick:r,tickStatus:c,setTickStatus:u,actionBarComponents:a})};var e6=i(56130),te=i(49438),tt=i(36803),ti=i(59502),tr=i(57758),tn=i(69973);let ts={tags:[{key:"dagster/auto_materialize",value:"true"}]},tl=()=>{var e;let t=(0,et.dx)(),{flagLegacyRunsPage:i}=(0,te.gV)(),r=(0,e6.p)(),{permissions:{canToggleAutoMaterialize:n}={}}=(0,tt.WB)(),[l,o]=(0,d.useState)(!1),[u,h]=(0,d.useState)(void 0),[x,p]=(0,d.useState)(void 0),m=(0,d.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return x||u?{afterTimestamp:null==x?void 0:x[0],beforeTimestamp:null==x?void 0:x[1],statuses:u}:{afterTimestamp:(e-12e5)/1e3}},[u,x]),[j,v]=(0,eb.td)(eq),y=(0,d.useCallback)(async()=>await j({variables:m()}),[j,m]);(0,S.bT)({refresh:y,enabled:!l&&!x&&!u,intervalMs:2e3,leading:!0});let[w,b]=(0,d.useState)(null),[k,C]=(0,O.q)((0,d.useMemo)(()=>({queryKey:"view",decode:e=>{let{view:t}=e;return"runs"===t?"runs":"evaluations"},encode:e=>({view:e,cursor:void 0,statuses:void 0})}),[])),E=null!==(e=v.data)&&void 0!==e?e:v.previousData,T=(0,d.useMemo)(()=>(null==E?void 0:E.autoMaterializeTicks)||[],[E]),z=(0,d.useMemo)(()=>{var e;return null!==(e=null==T?void 0:T.map((e,t)=>{let i=T[t-1];if(i&&(0,tr.g6)(e,t)){let t={...e};return t.endTimestamp=i.timestamp,t.status=eU.izS.FAILURE,t}return e}))&&void 0!==e?e:[]},[JSON.stringify(T.map(e=>"".concat(e.id,":").concat(e.status)))]),I=(0,d.useCallback)(e=>{o(!!e)},[o]),A=(0,s.jsx)(eO.h,{activeItems:new Set([k]),buttons:[{id:"evaluations",label:"Evaluations"},{id:"runs",label:"Runs"}],onClick:e=>{C(e)}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eM.i,{children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Running"}),(0,s.jsx)("td",{children:t.loading?(0,s.jsx)(c.$,{purpose:"body-text"}):(0,s.jsx)(eN.X,{format:"switch",checked:!t.paused,disabled:!n,onChange:async e=>{let i=e.target.checked;i||await r({title:"Pause Auto-materializing?",description:"Pausing Auto-materializing will prevent new materializations triggered by an Auto-materializing policy."}),t.setPaused(!i)}})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Evaluation frequency"}),(0,s.jsx)("td",{children:"~30s"})]})]})}),(0,s.jsx)(a.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,s.jsx)(f.Tj,{children:"Evaluation timeline"})}),E?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ti.p,{ticks:z,tickResultType:"materializations",onHoverTick:I,onSelectTick:b,exactRange:x,timeRange:12e5,tickGrid:3e5,timeAfter:18e4}),(0,s.jsx)(eZ,{tick:w,isOpen:!!w,close:()=>{b(null)}}),"evaluations"===k?(0,s.jsx)(e7,{setSelectedTick:b,setParentStatuses:h,setTimerange:p,actionBarComponents:A}):i?(0,s.jsx)(eX,{setTableView:C}):(0,s.jsx)(a.x,{margin:{top:32},border:"top",children:(0,s.jsx)(tn.g,{filter:ts,actionBarComponents:A})})]}):(0,s.jsxs)(a.x,{padding:{vertical:48},flex:{direction:"row",justifyContent:"center",gap:12,alignItems:"center"},children:[(0,s.jsx)(c.$,{purpose:"body-text"}),(0,s.jsx)("div",{style:{color:g.$()},children:"Loading evaluations…"})]})]})};var to=i(71406);let ta=()=>{let e=(0,ee.I)();switch(e){case"unknown":return(0,s.jsx)("div",{});case"has-global-amp":return(0,s.jsx)(td,{});case"has-sensor-amp":return(0,s.jsx)(l.l_,{to:"/automation"});default:(0,to.UT)(e)}},td=()=>((0,C.Px)(),(0,L.j)("Overview | Auto-materialize"),(0,s.jsxs)(eL.T,{children:[(0,s.jsx)(en,{tab:"amp"}),(0,s.jsx)(tl,{})]}));var tc=i(90731),tu=i(54048),th=i(97211),tx=i(74548);function tp(){let e=(0,ec._)(["\n  query InstanceBackfillsQuery($status: BulkActionStatus, $cursor: String, $limit: Int) {\n    partitionBackfillsOrError(status: $status, cursor: $cursor, limit: $limit) {\n      ... on PartitionBackfills {\n        results {\n          id\n          status\n          isValidSerialization\n          numPartitions\n          timestamp\n          partitionSetName\n          partitionSet {\n            id\n            name\n            mode\n            pipelineName\n            repositoryOrigin {\n              id\n              repositoryName\n              repositoryLocationName\n            }\n          }\n          error {\n            ...PythonErrorFragment\n          }\n\n          ...BackfillTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return tp=function(){return e},e}let tm=e=>{switch(e){case eU.Jv3.CANCELED:return"Canceled";case eU.Jv3.CANCELING:return"Canceling";case eU.Jv3.COMPLETED:return"Completed";case eU.Jv3.FAILED:return"Failed";case eU.Jv3.REQUESTED:return"In progress";case eU.Jv3.COMPLETED_SUCCESS:return"Success";case eU.Jv3.COMPLETED_FAILED:return"Failed"}},tg=Object.keys(eU.Jv3).map(e=>{let t=tm(e);return{label:t,value:e,match:[e,t]}}),tj=()=>{(0,C.Px)(),(0,L.j)("Overview | Backfills");let[e,t]=(0,O.q)({encode:e=>({status:e.size?Array.from(e).join(","):void 0}),decode:e=>{var t;return new Set((null===(t=e.status)||void 0===t?void 0:t.split(","))||[])}}),i=(0,tx.im)({name:"Status",icon:"status",allValues:tg,allowMultipleSelections:!1,closeOnSelect:!0,renderLabel:e=>{let{value:t}=e;return(0,s.jsx)("div",{children:tm(t)})},getStringValue:e=>tm(e),state:e,onStateChanged:t}),{button:r,activeFiltersJsx:n}=(0,th.m)({filters:[i]}),{queryResult:l,paginationProps:o}=(0,eW.l)({query:tv,variables:{status:e.size>0?Array.from(e)[0]:void 0},pageSize:10,nextCursorForResult:e=>{var t;return"PartitionBackfills"===e.partitionBackfillsOrError.__typename?null===(t=e.partitionBackfillsOrError.results[9])||void 0===t?void 0:t.id:void 0},getResultArray:e=>(null==e?void 0:e.partitionBackfillsOrError.__typename)==="PartitionBackfills"?e.partitionBackfillsOrError.results:[]}),d=(0,tu.$$)(),u=(0,S.C4)(l,S.dT),{loading:x,data:p}=l,[m,j]=(0,eo.U)("new_backfill_location_alert",e=>!!e);return(0,s.jsxs)(s.Fragment,{children:[m?null:(0,s.jsx)(e=>{let{setDidDismissBackfillPageAlert:t}=e;return(0,s.jsx)(a.x,{padding:8,border:"top-and-bottom",children:(0,s.jsx)(h.b,{title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Backfills are moving:"}),(0,s.jsxs)("span",{style:{fontWeight:"normal"},children:[" ","We're incorporating backfills into the ",(0,s.jsx)(w.rU,{to:"/runs/",children:"Runs"})," page to unify the UI and provide one page to see all of your executions. The Backfills page will be removed in a future release."," ",(0,s.jsx)("a",{href:"https://github.com/dagster-io/dagster/discussions/24898",target:"_blank",rel:"noreferrer",children:"Share feedback"})," "]})]}),onClose:()=>t(!0)})})},{setDidDismissBackfillPageAlert:j}),(0,s.jsxs)(a.x,{padding:{vertical:12,horizontal:20},flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,s.jsx)("div",{children:r}),n]}),(0,s.jsx)(S.xi,{refreshState:u})]}),(()=>{if(x&&!p)return(0,s.jsx)(a.x,{padding:{vertical:64},flex:{direction:"column",alignItems:"center"},children:(0,s.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,s.jsx)(c.$,{purpose:"body-text"}),(0,s.jsx)("div",{style:{color:g.$()},children:"Loading backfills…"})]})});let t=null==p?void 0:p.partitionBackfillsOrError;return(null==t?void 0:t.__typename)==="PythonError"?(0,s.jsx)(k.T9,{error:t}):t&&(null==t?void 0:t.results.length)?(0,s.jsxs)("div",{children:[d?null:(0,s.jsx)(a.x,{padding:{horizontal:24,bottom:16},children:(0,s.jsx)(tu.So,{})}),(0,s.jsx)(tc.GQ,{backfills:t.results.slice(0,10),refetch:l.refetch}),t.results.length>0?(0,s.jsx)(a.x,{margin:{top:16},children:(0,s.jsx)(eV.b$,{...o})}):null]}):e.size>0?(0,s.jsx)(a.x,{padding:{vertical:64},children:(0,s.jsx)(eu.t,{icon:"no-results",title:"No matching backfills",description:"No backfills were found for this filter."})}):(0,s.jsx)(a.x,{padding:{vertical:64},children:(0,s.jsx)(eu.t,{icon:"no-results",title:"No backfills found",description:"This instance does not have any backfill jobs."})})})()]})},tv=(0,eb.Ps)(tp(),ek.B,tc.be),tf=()=>((0,C.Px)(),(0,L.j)("Overview | Backfills"),(0,s.jsxs)(eL.T,{children:[(0,s.jsx)(en,{tab:"backfills"}),(0,s.jsx)(tj,{})]}));var ty=i(84927),tw=i(3295),tb=i(74905),tk=i(33878),tS=i(23449),tC=i(7152),tE=i(32093),tT=i(77851);let tz=()=>{let{featureContext:e}=(0,d.useContext)(tE.U),{backfillId:t}=(0,l.UO)();(0,C.Px)(),(0,L.j)("Backfill | ".concat(t));let[i,r]=(0,O.q)({queryKey:"tab",defaults:{tab:"partitions"}}),n=(0,tC.ul)(t),o=(0,tu.$$)(),{data:u,error:x}=n,p=(null==u?void 0:u.partitionBackfillOrError.__typename)==="PartitionBackfill"?u.partitionBackfillOrError:null,m=!p||[eU.Jv3.REQUESTED,eU.Jv3.CANCELING].includes(p.status),j=(0,S.C4)(n,1e4,m);return(0,s.jsxs)(a.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(W.m,{title:(0,s.jsxs)(f.X6,{children:[(0,s.jsx)(w.rU,{to:"/overview/backfills",style:{color:g.$()},children:"Backfills"})," / ",t]}),right:(0,s.jsxs)(a.x,{flex:{gap:12,alignItems:"center"},children:[m?(0,s.jsx)(S.xi,{refreshState:j}):null,p?(0,s.jsx)(ty.WH,{backfill:p,refetch:n.refetch,canCancelRuns:p.status===eU.Jv3.REQUESTED}):null]})}),function(){if(!u||!u.partitionBackfillOrError)return(0,s.jsx)(a.x,{padding:64,"data-testid":(0,tT.N)("page-loading-indicator"),children:(0,s.jsx)(c.$,{purpose:"page"})});if("PythonError"===u.partitionBackfillOrError.__typename)return(0,s.jsx)(k.T9,{error:u.partitionBackfillOrError});if("BackfillNotFoundError"===u.partitionBackfillOrError.__typename)return(0,s.jsx)(eu.t,{icon:"no-results",title:u.partitionBackfillOrError.message});let t=u.partitionBackfillOrError;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tk.q,{backfill:t}),o?null:(0,s.jsx)(a.x,{padding:{horizontal:24,bottom:16},children:(0,s.jsx)(tu.So,{})}),(0,s.jsx)(a.x,{padding:{left:24},border:"bottom",children:(0,s.jsxs)(X.mQ,{size:"large",selectedTabId:i,children:[(0,s.jsx)(X.OK,{id:"partitions",title:"Partitions",onClick:()=>r("partitions")}),(0,s.jsx)(X.OK,{id:"runs",title:"Runs",onClick:()=>r("runs")}),e.canSeeBackfillCoordinatorLogs?(0,s.jsx)(X.OK,{id:"logs",title:"Coordinator logs",onClick:()=>r("logs")}):null]})}),(null==x?void 0:x.graphQLErrors)&&(0,s.jsx)(h.b,{intent:"error",title:x.graphQLErrors.map(e=>e.message)}),(0,s.jsxs)(a.x,{flex:{direction:"column"},style:{flex:1,position:"relative",minHeight:0},children:["partitions"===i&&(0,s.jsx)(tw.Sl,{backfill:t}),"runs"===i&&(0,s.jsx)(tS.t,{backfill:t,view:"both"}),"logs"===i&&(0,s.jsx)(tb.o,{backfill:t})]})]})}()]})},tI=()=>(0,s.jsxs)(l.rs,{children:[(0,s.jsx)(el.A,{path:"/overview/activity",isNestingRoute:!0,children:(0,s.jsx)(ed,{})}),(0,s.jsx)(el.A,{path:"/overview/jobs",render:()=>(0,s.jsx)(l.l_,{to:"/jobs"})}),(0,s.jsx)(el.A,{path:"/overview/schedules",render:()=>(0,s.jsx)(l.l_,{to:"/automation"})}),(0,s.jsx)(el.A,{path:"/overview/sensors",render:()=>(0,s.jsx)(l.l_,{to:"/automation"})}),(0,s.jsx)(el.A,{path:"/overview/automation",render:()=>(0,s.jsx)(ta,{})}),(0,s.jsx)(el.A,{path:"/overview/backfills/:backfillId",render:()=>(0,s.jsx)(tz,{})}),(0,s.jsx)(el.A,{path:"/overview/backfills",exact:!0,render:()=>(0,s.jsx)(tf,{})}),(0,s.jsx)(el.A,{path:"/overview/resources",children:(0,s.jsx)(eA,{})}),(0,s.jsx)(el.A,{path:"*",isNestingRoute:!0,render:()=>(0,s.jsx)(l.l_,{to:"/overview/activity"})})]});var tA=tI},907:function(e,t,i){i.d(t,{S:function(){return n}});var r=i(22563);let n=e=>[...e].sort((e,t)=>{let i=(0,r.Uz)(e.repoAddress),n=(0,r.Uz)(t.repoAddress);return i.localeCompare(n)})},49455:function(e,t,i){i.d(t,{S:function(){return s}});var r=i(65822),n=i(22563);let s=e=>new Set(e.map(e=>(0,n.Uz)((0,r.kQ)(e.repository.name,e.repositoryLocation.name))))},58905:function(e,t,i){i.d(t,{a:function(){return g}});var r=i(52322),n=i(43212),s=i(75561),l=i(39013),o=i(35002),a=i(14934),d=i(89891),c=i(40191),u=i(92506),h=i(38491),x=i(2784),p=i(99590),m=i(88257);let g=e=>{let{tick:t,tickResultType:i,isStuckStarted:g}=e,[j,v]=(0,x.useState)(!1),f=(0,x.useMemo)(()=>{let e="materializations"===i?"materialization":"run";switch(t.status){case m.izS.STARTED:return(0,r.jsx)(n.V,{intent:"primary",icon:g?void 0:"spinner",children:g?"In progress":"Evaluating"});case m.izS.SKIPPED:let u=(0,r.jsx)(s.m,{fillColor:l.fk(),label:"materializations"===i?"0 materializations requested":"0 runs requested"});if("runKeys"in t&&t.runKeys.length){let e="".concat(t.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,r.jsx)(o.u,{position:"right",content:e,children:u})}if("skipReason"in t&&t.skipReason)return(0,r.jsx)(o.u,{position:"right",content:t.skipReason,targetTagName:"div",children:u});return u;case m.izS.FAILURE:return(0,r.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,r.jsx)(n.V,{intent:"danger",children:"Failure"}),t.error?(0,r.jsx)(d.Z,{onClick:()=>{v(!0)},children:"View"}):null]});case m.izS.SUCCESS:let h="materializations"===i?t.requestedAssetMaterializationCount:t.runIds.length,x=(0,r.jsxs)(n.V,{intent:"success",children:[h," ",e,(0,c.I)(h,"","s")," requested"]});if("runKeys"in t&&t.runKeys.length>t.runIds.length){let e="".concat(t.runKeys.length," runs requested, but ").concat(t.runKeys.length-t.runIds.length," skipped because the runs already exist for those requested keys.");return(0,r.jsx)(o.u,{position:"right",content:e,children:x})}return x}},[g,t,i]);return(0,r.jsxs)(r.Fragment,{children:[f,t.error?(0,r.jsxs)(u.Vq,{isOpen:j,title:"Error",style:{width:"80vw"},children:[(0,r.jsx)(u.a7,{children:(0,r.jsx)(p.T9,{error:t.error})}),(0,r.jsx)(u.cN,{topBorder:!0,children:(0,r.jsx)(h.zx,{intent:"primary",onClick:()=>{v(!1)},children:"Close"})})]}):null]})}}}]);
//# sourceMappingURL=9500.152a2b8c3e419ef3.js.map