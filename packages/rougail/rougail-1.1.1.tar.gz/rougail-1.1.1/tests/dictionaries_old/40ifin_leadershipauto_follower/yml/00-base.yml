version: '0.10'
services:
- service:
  - name: test
    file:
    - text: /etc/mailname
    - engine: jinja
      text: /etc/mailname2
variables:
- family:
  - name: general
    variables:
    - variable:
      - name: mode_conteneur_actif
        type: string
        description: No change
        value:
        - text: non
      - name: condition
        type: string
        description: condition
        value:
        - text: oui
    - family:
      - name: leader
        description: leader
        leadership: true
        variables:
        - variable:
          - name: leader
            type: string
            description: leader
            multi: true
            value:
            - text: a
            - text: b
          - name: follower1
            type: string
            description: follower1
          - name: follower2
            type: string
            description: follower2
constraints:
- fill:
  - name: calc_val
    param:
    - name: valeur
      text: valfill
    target:
    - text: follower1
  condition:
  - name: disabled_if_in
    source: leader
    param:
    - text: a
    target:
    - type: variable
      text: follower1
