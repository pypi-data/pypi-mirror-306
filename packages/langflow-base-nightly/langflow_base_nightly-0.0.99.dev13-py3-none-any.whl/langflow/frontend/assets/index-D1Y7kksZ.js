import{O as n,Q as g,R as m,T as p,V as y,r as c,W as x,j as o,X as I,Y as P,Z as h}from"./index-Cb5Vws1y.js";const j=I;function C(){const i=n(t=>t.setCurrentFlow),u=n(t=>t.currentFlow),r=g(t=>t.validApiKey),{id:s}=m(),{mutateAsync:w}=p(),f=y(),d=n(t=>t.currentFlowId),l=n(t=>t.setIsLoading);async function F(){var t;try{return await w({id:s})}catch(e){if(((t=e==null?void 0:e.response)==null?void 0:t.status)===404){if(!r)return null;try{const a=await P(s);return h(a,a.id,!1,!0)}catch{return null}}return null}}return c.useEffect(()=>{(async()=>{if(l(!0),d===""){const e=await F();e?i(e):f("/")}})(),l(!1)},[s,r]),c.useEffect(()=>{s&&x("Playground Page Loaded",{flowId:s})},[]),o.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center align-middle",children:u&&o.jsx(j,{open:!0,setOpen:()=>{},isPlayground:!0,children:o.jsx(o.Fragment,{})})})}export{C as default};
