import{O as s,Q as x,R as h,T as j,V as I,W as f,r as d,X as P,j as o,Y as v,Z as T,_ as E}from"./index-B6SXqG6u.js";const O=v;function A(){const a=s(e=>e.flows),l=s(e=>e.setCurrentFlow),w=s(e=>e.currentFlow),i=x(e=>e.validApiKey),{id:t}=h();async function g(){const e=await T(t);return E(e,e.id,!1,!0)}const y=j(),p=s(e=>e.currentFlowId),{mutateAsync:F}=I(),c=s(e=>e.setIsLoading),m=f(e=>e.getTypes),u=f(e=>e.types);return d.useEffect(()=>{(async()=>{if(a&&p===""){const n=a.find(r=>r.id===t);n||(i?g().then(r=>{l(r)}):y("/")),l(n)}else a||(c(!0),await F({get_all:!0,header_flows:!0}),(!u||Object.keys(u).length===0)&&await m(),c(!1))})()},[t,a,i]),d.useEffect(()=>{t&&P("Playground Page Loaded",{flowId:t})},[]),o.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center align-middle",children:w&&o.jsx(O,{open:!0,setOpen:()=>{},isPlayground:!0,children:o.jsx(o.Fragment,{})})})}export{A as default};
