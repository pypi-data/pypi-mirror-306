# Welcome to the sample config file
# Below you will find various config sections and options
# Default values are shown

# Options for connecting to the bot's Matrix account
matrix:
  accounts:
    - # The Matrix User IDs of the bot account
      id: "@bot:matrix.example.com"

      # Matrix account password (optional if access token used)
      password: "password"

      # Matrix account access token (optional if password used)
      # If not set, the server will provide an access token after log in,
      # which will be stored in the user token file (see below)
      #token: ""

      # Path to the file where to store the user access token
      token_file: "token.json"

      # The URL of the homeserver to connect to
      url: https://matrix.example.com

      # The device ID that is **non pre-existing** device
      # If this device ID already exists, messages will be dropped silently in encrypted rooms
      # If not set the server will provide a device ID after log in. Note that this ID
      # will change each time the bot reconnects.
      # device_id: ABCDEFGHIJ

  # What to name the logged in device
  device_name: matrix-alertbot

  # List of rooms where the bot can interact
  allowed_rooms:
    - "!abcdefgh:matrix.example.com"

  # List of allowed reactions to create silences.
  # Default is listed here.
  allowed_reactions: [ü§´, üò∂, ü§ê, üôä, üîá, üîï]

dm:
  filter_labels:
    matrix: dm
  select_label: uuid
  room_title: Alerts for {user}
  users:
    - matrix_id: "@user:matrix.example.com"
      select_values:
        - ec76b3e6-b49c-46c3-bd35-a329eaeafc4c

webhook:
  # Address and port for which the bot should listen to
  address: 0.0.0.0
  port: 8080
  # Path to the socket for which the bot should listen to.
  # This is mutually exclusive with webhook.address option.
  socket: /path/to/matrix-alertbot.sock

alertmanager:
  # Url to Alertmanager server
  url: http://localhost:9093

cache:
  # The path to a directory for caching alerts and silences
  path: "./cache"

storage:
  # The path to a directory for internal bot storage
  # containing encryption keys, sync tokens, etc.
  path: "./store"

template:
  # Path to directory that contains templates for rendering alerts.
  # The directory must contains the files "alert.html.j2" and "alert.txt.j2" 
  # and must respect Jinja2 templating format.
  # Default is to use templates provided by the matrix_alertbot package. 
  # These templates are available in "matrix_alertbot/resources/templates".
  path: "data/templates"

# Logging setup
logging:

  # Configure logging to a file
  file_logging:
    # Whether logging to a file is enabled
    enabled: false
    # Logging level specific to file logging (optional)
    level: DEBUG
    # The path to the file to log to. May be relative or absolute
    filepath: matrix-alertbot.log
  # Configure logging to the console output
  console_logging:
    # Whether logging to the console is enabled
    enabled: true
    # Logging level specific to console (optional)
    # Allowed levels are 'INFO', 'WARNING', 'ERROR', 'DEBUG' where DEBUG is most verbose
    level: INFO
